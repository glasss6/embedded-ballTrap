<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Thief Ball Trap: Accelerometer module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Thief Ball Trap
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Ball trap documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Accelerometer module</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:accelerometer_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="accelerometer_8h.html">accelerometer.h</a></td></tr>
<tr class="memdesc:accelerometer_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Code to read data from an accelerometer. Designed for SparkFun Triple Axis Accelerometer Breakout (MMA8452Q) <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8b423e9f25b16e32c82ab15528d61d1b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__accelerometer.html#ga8b423e9f25b16e32c82ab15528d61d1b">ERROR_RX_SIZE</a>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ga8b423e9f25b16e32c82ab15528d61d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f5adccae1b5f6db5c660ae10cec9afb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__accelerometer.html#ga5f5adccae1b5f6db5c660ae10cec9afb">ERROR_TX_SIZE</a>&#160;&#160;&#160;(-2)</td></tr>
<tr class="separator:ga5f5adccae1b5f6db5c660ae10cec9afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga802fe27b06ba320251ae97983a68ce64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__accelerometer.html#ga802fe27b06ba320251ae97983a68ce64">ERROR_NOT_ONLINE</a>&#160;&#160;&#160;(-3)</td></tr>
<tr class="separator:ga802fe27b06ba320251ae97983a68ce64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabb5dc31f52b4c94babb890afe85fdc29"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__accelerometer.html#gabb5dc31f52b4c94babb890afe85fdc29">Accelerometer_Init</a> (uint16_t period, void(*callback)(float x, float y, float z))</td></tr>
<tr class="memdesc:gabb5dc31f52b4c94babb890afe85fdc29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the accelerometer to read data at a period returning to a callback.  <a href="#gabb5dc31f52b4c94babb890afe85fdc29">More...</a><br /></td></tr>
<tr class="separator:gabb5dc31f52b4c94babb890afe85fdc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae22be8908e6faff9d8ea3e54adfb31f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__accelerometer.html#gae22be8908e6faff9d8ea3e54adfb31f0">Accelerometer_Deinit</a> (void)</td></tr>
<tr class="memdesc:gae22be8908e6faff9d8ea3e54adfb31f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize the accelerometer task scheduler.  <a href="#gae22be8908e6faff9d8ea3e54adfb31f0">More...</a><br /></td></tr>
<tr class="separator:gae22be8908e6faff9d8ea3e54adfb31f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Created on: March 25, 2019 Updated on: April 12, 2019 Author: Stephen Glass, Lonnie Souder </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga802fe27b06ba320251ae97983a68ce64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga802fe27b06ba320251ae97983a68ce64">&#9670;&nbsp;</a></span>ERROR_NOT_ONLINE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_NOT_ONLINE&#160;&#160;&#160;(-3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="accelerometer_8h_source.html#l00034">34</a> of file <a class="el" href="accelerometer_8h_source.html">accelerometer.h</a>.</p>

</div>
</div>
<a id="ga8b423e9f25b16e32c82ab15528d61d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b423e9f25b16e32c82ab15528d61d1b">&#9670;&nbsp;</a></span>ERROR_RX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_RX_SIZE&#160;&#160;&#160;(-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="accelerometer_8h_source.html#l00032">32</a> of file <a class="el" href="accelerometer_8h_source.html">accelerometer.h</a>.</p>

</div>
</div>
<a id="ga5f5adccae1b5f6db5c660ae10cec9afb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f5adccae1b5f6db5c660ae10cec9afb">&#9670;&nbsp;</a></span>ERROR_TX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERROR_TX_SIZE&#160;&#160;&#160;(-2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="accelerometer_8h_source.html#l00033">33</a> of file <a class="el" href="accelerometer_8h_source.html">accelerometer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae22be8908e6faff9d8ea3e54adfb31f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae22be8908e6faff9d8ea3e54adfb31f0">&#9670;&nbsp;</a></span>Accelerometer_Deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Accelerometer_Deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize the accelerometer task scheduler. </p>

<p class="definition">Definition at line <a class="el" href="accelerometer_8c_source.html#l00143">143</a> of file <a class="el" href="accelerometer_8c_source.html">accelerometer.c</a>.</p>

</div>
</div>
<a id="gabb5dc31f52b4c94babb890afe85fdc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb5dc31f52b4c94babb890afe85fdc29">&#9670;&nbsp;</a></span>Accelerometer_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t Accelerometer_Init </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(float x, float y, float z)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the accelerometer to read data at a period returning to a callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">period</td><td>period to check data from accelerometer (milliseconds) </td></tr>
    <tr><td class="paramname">period</td><td>function pointer for callback where data is returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>returns success of initialization, (&lt; 0 is error) </dd></dl>
<p>Return error if TX size is not at least 2</p>
<p>Return error if RX size is not at least 6</p>
<p>Initialize I2C communication with accelerometer</p>
<p>Configure base transaction configuration</p>
<p>Start read of WHO_AM_I register to check if device is online We write the register we want to read in first transaction, while keeping connection active The next transaction we read the value from the previous register and terminate the connection</p>
<p>Reading WHO_AM_I always returns DEVICE_FOUND</p>
<p>Put into STANDBY mode Registers can only be changed on accelerometer while in STANDBY mode Read the CTRL_REG1 value and then write the negated value to CTRL_REG1</p>
<p>Configure scale</p>
<p>Put into ACTIVE mode Read the CTRL_REG1 value and then write the enabled value to CTRL_REG1</p>
<p>Assign callback pointer to data structure</p>
<p>Schedule task to read data </p>

<p class="definition">Definition at line <a class="el" href="accelerometer_8c_source.html#l00041">41</a> of file <a class="el" href="accelerometer_8c_source.html">accelerometer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
